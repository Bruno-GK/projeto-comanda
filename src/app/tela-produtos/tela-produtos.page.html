<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tab1"></ion-back-button>

    </ion-buttons>
    <ion-title>tela-produtos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div>
    <ion-card>
      <ion-card-content>
        <div>
          <ion-icon [name]="modoEdicao ? 'create': 'add-circle'"> </ion-icon>
          <div>
            <h1>
              {{ modoEdicao ? 'Editar Item' : 'Cadastrar Item' }}
            </h1>
            <p>
              {{modoEdicao ? 'Atualize as informações do Item' : 'Adicione um novo Item' }}
            </p>
          </div>
        </div>
      </ion-card-content>
    </ion-card>
    <form [formGroup]="formularioProduto" (ngSubmit)="salvarItem()">
      <ion-card>
        <ion-card-header>
          <ion-card-title>
            Informações básicas de produto
          </ion-card-title>
        </ion-card-header>

        <ion-card-content>
          <ion-item lines="none">
            <ion-icon name="fast-food" slot="start" color="primary"></ion-icon>
            <ion-label position="floating">Nome do item</ion-label>
            <ion-input formControlName="nome" placeholder="Ex: Hamburguer" type="text" maxLength="50">
            </ion-input>
            <ion-text color="danger"
              *ngIf="formularioProduto.get('nome')?.invalid && formularioProduto.get('nome')?.touched">
              <small>Nome é Obrigatório e deve ter mais de 3 letras</small>
            </ion-text>
          </ion-item>
          <ion-item lines="none">
            <ion-label position="floating">Nome do item</ion-label>
            <ion-icon name="cash" slot="start" color="success"></ion-icon>
            <ion-input formControlName="preco" placeholder="Ex: 12.50" type="number" maxLength="5">
            </ion-input>
            <ion-text color="danger"
              *ngIf="formularioProduto.get('preco')?.invalid && formularioProduto.get('preco')?.touched">
              <small>valor é Obrigatório</small>
            </ion-text>
          </ion-item>
          <ion-item lines="none">
            <ion-icon name="image" slot="start" color="warning"></ion-icon>
            <ion-input label="url da img" labelPlacement="floating" formControlName="imagem"
              placeholder="http://localhost:9000" type="url">
            </ion-input>
            <ion-text color="danger"
              *ngIf="formularioProduto.get('imagem')?.invalid && formularioProduto.get('imagem')?.touched">
              <small>img é Obrigatória</small>
            </ion-text>
          </ion-item>
          <ion-item lines="none">
            <ion-icon name="restaurant" slot="start" color="danger"></ion-icon>
            <ion-input label="ingredientes" labelPlacement="floating" formControlName="ingredientes"
              placeholder="Ex: Hamburguer, queijo, pao" type="text" maxLength="50">
            </ion-input>
            <p>
              <small>separe os itens por virgula</small>
            </p>
            <ion-text color="danger"
              *ngIf="formularioProduto.get('ingredientes')?.invalid && formularioProduto.get('ingredientes')?.touched">
              <small>ingredientes são Obrigatórios</small>
            </ion-text>
          </ion-item>


        </ion-card-content>
      </ion-card>
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button color="danger" expand="full" (click)= limparFormulario()>
              cancelar
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button color="primary"expand="full" type="submit" [disabled]="formularioProduto.invalid">
              salvar
            </ion-button>
          </ion-col>

        </ion-row>
      </ion-grid>





    </form>


  </div>

</ion-content>